=== Waterlily Benchmark ===
API: single
CCU Levels: 20000
Duration: 600s
Timeout: 3s
Threads: 12
Base URL: http://0.0.0.0:8080
Timestamp: 20260205_001203

Checking health endpoint...
Health check passed

----------------------------------------
Running benchmark: API=single, CCU=20000
Output: experiment/benchmarks/result_20260205_001203_single_product_20000.json

Loaded 10000000 product IDs
Building Zipfian CDF (s=1.4, N=10000000)...
Zipfian CDF ready. Top product expected ~0.0% of requests
Loaded 10000000 product IDs
Building Zipfian CDF (s=1.4, N=10000000)...
Zipfian CDF ready. Top product expected ~0.0% of requests
Loaded 10000000 product IDs
Building Zipfian CDF (s=1.4, N=10000000)...
Zipfian CDF ready. Top product expected ~0.0% of requests
Loaded 10000000 product IDs
Building Zipfian CDF (s=1.4, N=10000000)...
Zipfian CDF ready. Top product expected ~0.0% of requests
Loaded 10000000 product IDs
Building Zipfian CDF (s=1.4, N=10000000)...
Zipfian CDF ready. Top product expected ~0.0% of requests
Loaded 10000000 product IDs
Building Zipfian CDF (s=1.4, N=10000000)...
Zipfian CDF ready. Top product expected ~0.0% of requests
Loaded 10000000 product IDs
Building Zipfian CDF (s=1.4, N=10000000)...
Zipfian CDF ready. Top product expected ~0.0% of requests
Loaded 10000000 product IDs
Building Zipfian CDF (s=1.4, N=10000000)...
Zipfian CDF ready. Top product expected ~0.0% of requests
Loaded 10000000 product IDs
Building Zipfian CDF (s=1.4, N=10000000)...
Zipfian CDF ready. Top product expected ~0.0% of requests
Loaded 10000000 product IDs
Building Zipfian CDF (s=1.4, N=10000000)...
Zipfian CDF ready. Top product expected ~0.0% of requests
Loaded 10000000 product IDs
Building Zipfian CDF (s=1.4, N=10000000)...
Zipfian CDF ready. Top product expected ~0.0% of requests
Loaded 10000000 product IDs
Building Zipfian CDF (s=1.4, N=10000000)...
Zipfian CDF ready. Top product expected ~0.0% of requests
Results written to: experiment/benchmarks/result_20260205_001203_single_product_20000.json

--- Benchmark Results ---
Duration: 600.05 seconds
Successes: 15487238 (25810.03 RPS)
Latency: avg=416.58ms, p50=102.59ms, p95=1851.88ms, p99=2618.73ms
Errors: 3xx=0, 4xx=0, 5xx=0, socket=900442
Access pattern: Zipfian (s=1.400000, N=0)

To get cache metrics, query: curl http://localhost:8080/monitor/cache
Running 10m test @ http://0.0.0.0:8080
  12 threads and 20000 connections
  Thread Stats   Avg      Stdev     Max   +/- Stdev
    Latency   416.58ms  623.36ms   3.00s    83.78%
    Req/Sec     1.89k     4.94k  109.09k    97.17%
  15497513 requests in 10.00m, 82.80GB read
  Socket errors: connect 0, read 51773, write 6998, timeout 841671
  Non-2xx or 3xx responses: 10275
Requests/sec:  25827.16
Transfer/sec:    141.30MB
JSON file created successfully: experiment/benchmarks/result_20260205_001203_single_product_20000.json

========================================
Benchmark complete!
Results saved to: experiment/benchmarks
Log file: experiment/benchmarks/result_20260205_001203__stdout_stderr.log

Generated JSON files:
-rw-r--r--@ 1 hoaidv  staff  1145 Feb  5 00:24 experiment/benchmarks/result_20260205_001203_single_product_20000.json
