=== Waterlily Benchmark ===
API: single
CCU Levels: 1000
Duration: 480s
Timeout: 3s
Threads: 12
Base URL: http://0.0.0.0:8080
Timestamp: 20260204_231431

Checking health endpoint...
Health check passed

----------------------------------------
Running benchmark: API=single, CCU=1000
Output: experiment/benchmarks/result_20260204_231431_single_product_1000.json

Loaded 10000000 product IDs
Building Zipfian CDF (s=1, N=10000000)...
Zipfian CDF ready. Top product expected ~0.0% of requests
Loaded 10000000 product IDs
Building Zipfian CDF (s=1, N=10000000)...
Zipfian CDF ready. Top product expected ~0.0% of requests
Loaded 10000000 product IDs
Building Zipfian CDF (s=1, N=10000000)...
Zipfian CDF ready. Top product expected ~0.0% of requests
Loaded 10000000 product IDs
Building Zipfian CDF (s=1, N=10000000)...
Zipfian CDF ready. Top product expected ~0.0% of requests
Loaded 10000000 product IDs
Building Zipfian CDF (s=1, N=10000000)...
Zipfian CDF ready. Top product expected ~0.0% of requests
Loaded 10000000 product IDs
Building Zipfian CDF (s=1, N=10000000)...
Zipfian CDF ready. Top product expected ~0.0% of requests
Loaded 10000000 product IDs
Building Zipfian CDF (s=1, N=10000000)...
Zipfian CDF ready. Top product expected ~0.0% of requests
Loaded 10000000 product IDs
Building Zipfian CDF (s=1, N=10000000)...
Zipfian CDF ready. Top product expected ~0.0% of requests
Loaded 10000000 product IDs
Building Zipfian CDF (s=1, N=10000000)...
Zipfian CDF ready. Top product expected ~0.0% of requests
Loaded 10000000 product IDs
Building Zipfian CDF (s=1, N=10000000)...
Zipfian CDF ready. Top product expected ~0.0% of requests
Loaded 10000000 product IDs
Building Zipfian CDF (s=1, N=10000000)...
Zipfian CDF ready. Top product expected ~0.0% of requests
Loaded 10000000 product IDs
Building Zipfian CDF (s=1, N=10000000)...
Zipfian CDF ready. Top product expected ~0.0% of requests
Results written to: experiment/benchmarks/result_20260204_231431_single_product_1000.json

--- Benchmark Results ---
Duration: 480.10 seconds
Successes: 7710513 (16060.19 RPS)
Latency: avg=230.63ms, p50=103.30ms, p95=815.37ms, p99=1141.80ms
Errors: 3xx=0, 4xx=0, 5xx=0, socket=0
Access pattern: Zipfian (s=1.000000, N=0)

To get cache metrics, query: curl http://localhost:8080/monitor/cache
Running 8m test @ http://0.0.0.0:8080
  12 threads and 1000 connections
  Thread Stats   Avg      Stdev     Max   +/- Stdev
    Latency   230.63ms  297.98ms   2.88s    84.14%
    Req/Sec     1.26k     1.26k   23.21k    91.57%
  7710513 requests in 8.00m, 34.87GB read
Requests/sec:  16060.19
Transfer/sec:     74.37MB
JSON file created successfully: experiment/benchmarks/result_20260204_231431_single_product_1000.json

========================================
Benchmark complete!
Results saved to: experiment/benchmarks
Log file: experiment/benchmarks/result_20260204_231431__stdout_stderr.log

Generated JSON files:
-rw-r--r--@ 1 hoaidv  staff  1129 Feb  4 23:24 experiment/benchmarks/result_20260204_231431_single_product_1000.json
